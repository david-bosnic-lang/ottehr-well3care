var Ue=Object.defineProperty;var Ce=Object.getOwnPropertySymbols;var We=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable;var Ae=(t,s,i)=>s in t?Ue(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i,Oe=(t,s)=>{for(var i in s||(s={}))We.call(s,i)&&Ae(t,i,s[i]);if(Ce)for(var i of Ce(s))$e.call(s,i)&&Ae(t,i,s[i]);return t};import{j as e,aa as Z,ab as Xe,_ as H,w as C,ac as He,f as v,ad as Ke,ae as qe,af as x,T as c,ag as Ne,ah as z,ai as w,k as Le,aj as Qe,p as Pe,ak as Ze,$ as V,al as Ie,n as S,am as Ye,an as Je,ao as et,ap as D,aq as Y,ar as b,as as tt,at as J,I as Re,au as st,av as ke,aw as it,ax as rt,M as Me,ay as y,t as G,az as P,aA as at,aB as p,aC as nt,aD as ot,aE as lt,aF as dt,aG as ct,aH as ut,R as xt,aI as ht,aJ as gt,aK as ft,aL as jt,aM as bt,aN as $,aO as mt,aP as pt,aQ as St,aR as vt,aS as Tt,aT as ee,aU as Ee,aV as yt,aW as wt,y as Ct,aX as At,aY as Be,aZ as Fe,a_ as Ot,a$ as It,b0 as kt,b1 as _,b2 as Et,b3 as Bt,b4 as Ft,b5 as Nt,b6 as Lt,b7 as Pt,b8 as Rt}from"./index-Ddzv_SmZ.js";function te({status:t}){return t?Z[t]?e.jsx(Xe,{size:"small",label:t,sx:{borderRadius:"4px",border:"none",fontWeight:500,fontSize:"12px",textTransform:"uppercase",background:Z[t].background.primary,color:Z[t].color.primary},variant:"outlined"}):e.jsx("span",{children:"todo2"}):e.jsx("span",{children:"todo1"})}const Mt={visible:!1};function _t(t,s){switch(s){case"OPEN_ON_CLICK":return t.visible===!1||t.triggeredBy!=="click"?{visible:!0,triggeredBy:"click"}:t;case"OPEN_ON_HOVER":return t.visible===!1?{visible:!0,triggeredBy:"hover"}:t;case"CLOSE_ON_CLICK":return t.visible===!0?{visible:!1}:t;case"CLOSE_ON_LEAVE":return t.visible===!0&&t.triggeredBy==="hover"?{visible:!1}:t;default:return t}}const Vt=t=>{const{history:s,currentStatus:i}=t,r=H(),[d,o]=C.useReducer(_t,Mt),u=()=>o("CLOSE_ON_CLICK"),g=()=>o("CLOSE_ON_LEAVE"),l=()=>o("OPEN_ON_CLICK"),n=()=>o("OPEN_ON_HOVER"),a=new Date().toISOString();return e.jsx(He,{onClickAway:u,children:e.jsxs(v,{sx:{display:"flex",alignItems:"center",gap:.5},onMouseEnter:n,onMouseLeave:g,children:[e.jsx(zt,{history:s,currentAppointmentStatus:i,currentTimeISO:a}),e.jsx("div",{children:e.jsx(Ke,{PopperProps:{disablePortal:!0},onClose:u,open:d.visible,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:e.jsx(Dt,{history:s,currentAppointmentStatus:i,currentTimeISO:a}),children:e.jsx(v,{sx:{display:"flex",alignItems:"center"},children:e.jsx(qe,{onClick:l,fontSize:"small",sx:{color:r.palette.text.secondary,cursor:"pointer"}})})})})]})})},zt=t=>{const{history:s,currentAppointmentStatus:i,currentTimeISO:r}=t,d=_e(s,i,r),o=x[i],u=o===x.ready,g=o===x.complete,l=o===x.cancelled;if(u||g)return e.jsx(c,{children:"".concat(Ne(s)," m")});if(l)return e.jsx(c,{children:"".concat(d," m")});const n=s.at(-1);return e.jsx(c,{children:e.jsxs(e.Fragment,{children:[z(w.fromISO((n==null?void 0:n.end)||r),w.fromISO((n==null?void 0:n.start)||r)),"m / ",d,"m"]})})},Dt=t=>{const{history:s,currentAppointmentStatus:i,currentTimeISO:r}=t,o=x[i]===x.ready,u=_e(s,i,r),g=o?Ne(s):u,l=n=>{const a=n.status===x.cancelled,T=n.status===x.complete;if(a||T)return"";const I=n.start;return I?"".concat(z(w.fromISO(n.end||r),w.fromISO(I))," mins"):""};return e.jsxs(v,{sx:{p:2,display:"flex",flexDirection:"column",gap:1},children:[s.map((n,a)=>e.jsxs(v,{sx:{display:"flex",gap:1},children:[e.jsx(c,{sx:{minWidth:"60px"},children:l(n)}),e.jsx(te,{status:n.status})]},"".concat(n.status,"-").concat(a))),e.jsxs(c,{sx:{fontWeight:500,mt:1},children:["Total: ",g," mins"]})]})},_e=(t,s,i)=>{const r=t.at(0),d=t.at(-1),o=r==null?void 0:r.start;if(!o)return 0;const u=w.fromISO(o),g=w.fromISO(i);if(s===x.complete){const l=t.find(a=>a.status===x["on-video"]),n=l==null?void 0:l.end;return n?z(w.fromISO(n),u):0}if(s===x.cancelled){const l=d==null?void 0:d.start;return l?z(w.fromISO(l),u):0}return z(g,u)},X={borderRadius:8,textTransform:"none",fontSize:"15px",fontWeight:500},Gt=t=>{const{appointment:s}=t,i=Le(),r=Qe(),d=Pe(),o=Ze(),u=a=>{d("/telemed/appointments/".concat(s.id),{state:a})},g=async(a,T)=>{if(!i)throw new Error("api client not defined");await r.mutateAsync({apiClient:i,appointmentId:s.id,newStatus:a},{}),T&&await o.invalidateQueries({queryKey:["telemed-appointments"]})},l=async a=>{await g(a),u()},{type:n}=Zt({appointment:s});switch(n){case"viewContained":case"viewOutlined":return e.jsx(V,{onClick:()=>u(),variant:n==="viewContained"?"contained":"outlined",sx:X,"data-testid":S.telemedEhrFlow.trackingBoardViewButton(s.id),children:"View"});case"assignMe":return e.jsx(Ie,{title:"Do you want to assign this appointment?",response:()=>l(x["pre-video"]),actionButtons:{proceed:{text:"Assign me"},back:{text:"Cancel"}},children:a=>e.jsx(V,{onClick:a,loading:r.isLoading,variant:"contained",sx:X,"data-testid":S.telemedEhrFlow.trackingBoardAssignButton,children:"Assign me"})});case"unassign":return e.jsx(Ie,{title:"Do you want to unassign this appointment?",response:()=>g(x.ready,!0),actionButtons:{proceed:{text:"Unassign",color:"error"},back:{text:"Cancel"}},children:a=>e.jsx(V,{onClick:a,loading:r.isLoading,color:"error",variant:"outlined",sx:X,children:"Unassign"})});case"reconnect":return e.jsx(V,{onClick:()=>u({reconnect:!0}),loading:r.isLoading,variant:"contained",sx:X,children:"Reconnect"});default:return null}};function Ut({appointment:t,showProvider:s,next:i}){var h,m,E,M,f,j,se,ie,re,ae,ne;const r=H(),d=Pe(),[o,u]=C.useState(!1),[g,l]=C.useState(((h=t==null?void 0:t.smsModel)==null?void 0:h.hasUnreadMessages)||!1),n=[(m=t==null?void 0:t.patient)==null?void 0:m.lastName,(E=t==null?void 0:t.patient)==null?void 0:E.firstName].filter(Boolean).join(", ")||"Unknown",a=(j=(f=(M=t==null?void 0:t.practitioner)==null?void 0:M.name)==null?void 0:f.at(0))==null?void 0:j.family,T=a?"Dr. ".concat(a):"",I=(t==null?void 0:t.smsModel)!==void 0,R=C.useMemo(()=>{var de,ce,ue,U,xe,he,ge,fe,je,be,W,me,pe;const L=Ye((de=t==null?void 0:t.patient)==null?void 0:de.dateOfBirth),K=Je((ce=t==null?void 0:t.patient)==null?void 0:ce.dateOfBirth),q=(xe=(U=(ue=t==null?void 0:t.patient)==null?void 0:ue.sex)==null?void 0:U.replace)==null?void 0:xe.call(U,/^[a-z]/i,O=>O.toUpperCase()),Ve=L&&K&&"DOB: ".concat(L," (").concat(K,")"),oe={},ze=((je=(fe=(ge=(he=t==null?void 0:t.paperwork)==null?void 0:he.item)==null?void 0:ge.find(O=>O.linkId==="patient-filling-out-as"))==null?void 0:fe.answer)==null?void 0:je[0].valueString)==="Parent/Guardian",{phone:De,language:le}=(pe=(me=(W=(be=t==null?void 0:t.paperwork)==null?void 0:be.item)==null?void 0:W.reduce)==null?void 0:me.call(W,(O,B)=>{var Se,ve,Te,ye,we;if(!(B!=null&&B.linkId)||typeof((ve=(Se=B==null?void 0:B.answer)==null?void 0:Se[0])==null?void 0:ve.valueString)!="string")return O;const{linkId:Q}=B,F=(ye=(Te=B.answer)==null?void 0:Te[0])==null?void 0:ye.valueString;return(ze&&Q==="guardian-number"||Q==="patient-number")&&(O.phone=F),Q==="preferred-language"&&((we=F==null?void 0:F.toLowerCase)==null?void 0:we.call(F))==="spanish"&&(O.language="EspaÃ±ol"),O},oe))!=null?pe:oe,Ge=[q,Ve,De].filter(Boolean).join(" | ");return e.jsxs(e.Fragment,{children:[e.jsx(c,{variant:"subtitle2",sx:{fontSize:"16px"},children:n}),e.jsx(c,{variant:"body2",sx:{color:r.palette.text.secondary},children:Ge}),le&&e.jsx(c,{variant:"body2",sx:{color:r.palette.text.secondary},children:le})]})},[(se=t==null?void 0:t.paperwork)==null?void 0:se.item,(ie=t==null?void 0:t.patient)==null?void 0:ie.dateOfBirth,(re=t==null?void 0:t.patient)==null?void 0:re.sex,r.palette.text.secondary,n]),N=t==null?void 0:t.reasonForVisit,A=()=>{d("/telemed/appointments/".concat(t.id))};let k;if(t.start){let L="America/New_York";try{L=et(t.locationVirtual)}catch(q){console.error("Error getting timezone for appointment",t.id,q)}k=w.fromISO(t.start).setZone(L).toFormat("h:mm a")}return e.jsxs(D,{"data-testid":S.telemedEhrFlow.trackingBoardTableRow(t.id),"data-location-group":t.locationVirtual.state,sx:Oe({"&:last-child td, &:last-child th":{border:0},"&:hover":{backgroundColor:Y.apptHover},position:"relative"},i&&{boxShadow:"inset 0 0 0 1px ".concat(Y.orange800)}),children:[e.jsxs(b,{sx:{verticalAlign:"middle",cursor:"pointer"},onClick:A,children:[i&&e.jsx(v,{sx:{backgroundColor:Y.orange800,position:"absolute",width:"14px",bottom:0,left:"-14px",height:"100%",borderTopLeftRadius:"10px",borderBottomLeftRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(c,{variant:"subtitle2",fontSize:10,sx:{writingMode:"vertical-lr",transform:"scale(-1)",color:r.palette.common.white},children:"NEXT"})}),e.jsx(c,{variant:"body1",children:(ae=tt)==null?void 0:ae(t.appointmentType==="walk-in"?"On-demand":(t.appointmentType||"").toString())}),e.jsx(c,{variant:"body1",children:e.jsx("strong",{children:k})}),e.jsx(te,{status:t.telemedStatus}),t.telemedStatus==x.cancelled?e.jsx(J,{title:t.cancellationReason,children:e.jsx(c,{variant:"body2",sx:{color:r.palette.text.primary,textOverflow:"ellipsis",width:"80px",whiteSpace:"nowrap",overflow:"hidden",pt:"6px"},children:t.cancellationReason})}):e.jsx(e.Fragment,{}),e.jsx(J,{title:t.id,children:e.jsxs(c,{variant:"body2",sx:{color:r.palette.text.secondary,textOverflow:"ellipsis",width:"80px",whiteSpace:"nowrap",overflow:"hidden",pt:"6px"},children:["ID: ",t.id]})})]}),e.jsx(b,{sx:{verticalAlign:"middle"},children:e.jsx(Vt,{history:t.telemedStatusHistory,currentStatus:t.telemedStatus})}),e.jsxs(b,{sx:{verticalAlign:"middle",cursor:"pointer"},onClick:A,children:[R,e.jsx(J,{title:N,children:e.jsx(c,{variant:"body2",sx:{fontSize:"16px",textOverflow:"ellipsis",width:"160px",whiteSpace:"nowrap",overflow:"hidden"},children:N})})]}),e.jsx(b,{sx:{verticalAlign:"middle",cursor:"pointer"},onClick:A,children:e.jsx(c,{sx:{fontSize:"16px"},children:t.locationVirtual.state})}),s&&e.jsx(b,{sx:{verticalAlign:"middle"},children:e.jsx(v,{children:T})}),e.jsx(b,{sx:{verticalAlign:"middle"},children:e.jsx(c,{children:(ne=t.group)==null?void 0:ne.join(", ")})}),e.jsx(b,{sx:{verticalAlign:"middle"},children:I&&e.jsx(Re,{color:"primary",sx:{backgroundColor:r.palette.primary.main,width:"36px",height:"36px",borderRadius:"100%",display:"flex",justifyContent:"center",alignItems:"center","&:hover":{backgroundColor:r.palette.primary.dark}},onClick:L=>{u(!0)},"aria-label":g?"unread messages chat icon":"chat icon, no unread messages","data-testid":S.telemedEhrFlow.trackingBoardChatButton(t.id),children:g?e.jsx(st,{variant:"dot",color:"warning",sx:{"& .MuiBadge-badge":{width:"14px",height:"14px",borderRadius:"10px",border:"2px solid white",top:"-4px",right:"-4px"}},children:e.jsx(ke,{sx:{color:r.palette.primary.contrastText,height:"20px",width:"20px"}})}):e.jsx(ke,{sx:{color:r.palette.primary.contrastText,height:"20px",width:"20px"}})})}),e.jsx(b,{sx:{verticalAlign:"middle"},children:e.jsx(Gt,{appointment:t})}),o&&e.jsx(it,{appointment:t,onClose:()=>u(!1),onMarkAllRead:()=>l(!1),quickTexts:rt})]})}const Wt=3,$t=({showProvider:t,isState:s,columnsCount:i})=>{const r=H();return e.jsxs(e.Fragment,{children:[!s&&e.jsx(D,{children:e.jsx(b,{sx:{backgroundColor:Me(r.palette.secondary.main,.08)},colSpan:i,children:e.jsx(v,{sx:{display:"flex",alignItems:"center"},children:e.jsx(y,{children:e.jsx(c,{variant:"subtitle2",sx:{fontSize:"14px"},children:"ST - State name"})})})})}),[...Array(Wt)].map((d,o)=>e.jsxs(D,{sx:{},children:[e.jsxs(b,{children:[e.jsx(y,{variant:"rounded",children:e.jsx(te,{status:x.ready})}),e.jsx(y,{width:"100%",children:e.jsx(c,{variant:"body2",sx:{pt:"6px"},children:"ID: some ID"})})]}),e.jsx(b,{sx:{verticalAlign:"top"},children:e.jsx(y,{width:"100%",children:e.jsx(c,{children:"time"})})}),e.jsxs(b,{sx:{verticalAlign:"top"},children:[e.jsx(y,{children:e.jsx(c,{variant:"subtitle2",sx:{fontSize:"16px"},children:"Patient name"})}),e.jsx(y,{width:"100%",children:e.jsx(c,{variant:"body2",children:"Lots of patient info"})})]}),e.jsx(b,{sx:{verticalAlign:"top"},children:e.jsx(y,{children:e.jsx(c,{sx:{fontSize:"16px"},children:"ST"})})}),t&&e.jsx(b,{sx:{verticalAlign:"top"},children:e.jsx(y,{width:"100%",children:e.jsx(c,{children:"Dr. Name"})})}),e.jsx(b,{sx:{verticalAlign:"top"},children:e.jsx(y,{width:"100%",children:e.jsx(c,{children:"Group"})})}),e.jsx(b,{sx:{verticalAlign:"top"},children:e.jsx(y,{variant:"circular",children:e.jsx(Re,{sx:{width:"36px",height:"36px"}})})}),e.jsx(b,{sx:{verticalAlign:"top"},children:e.jsx(y,{variant:"rounded",children:e.jsx(V,{variant:"contained",sx:{fontSize:"15px",fontWeight:500},children:"text"})})})]},o))]})},Xt={STATUS:{id:"status",label:"Type & Status"},WAITING_TIME:{id:"waitingTime",label:"Waiting time"},PATIENT_INFO_REASON:{id:"patient-info-reason",label:"Patient & Reason"},LOCATION:{id:"state",label:"State"},PROVIDER:{id:"provider",label:"Provider",conditional:{showWhen:"showProvider"}},GROUP:{id:"group",label:"Group"},CHAT:{id:"chat",label:"Chat"},ACTION:{id:"action",label:"Action"}};function Ht({tab:t}){var A,k;const s=H(),{appointments:i,selectedStates:r,availableStates:d,isAppointmentsLoading:o,unsignedFor:u,showOnlyNext:g}=G(P,["appointments","selectedStates","unsignedFor","availableStates","isAppointmentsLoading","showOnlyNext"]),l=at(i,u,t,g,d),n=t!==p.ready,a=Kt({showProvider:n}),T=C.useMemo(()=>{const m=l.reduce((f,j)=>j.locationVirtual.state?(f[j.locationVirtual.state]||(f[j.locationVirtual.state]=[]),f[j.locationVirtual.state].push(j),f):j.provider?(f[j.provider.join(",")]||(f[j.provider.join(",")]=[]),f[j.provider.join(",")].push(j),f):j.group?(f[j.group.join(",")]||(f[j.group.join(",")]=[]),f[j.group.join(",")].push(j),f):(console.error("missing location and provider and group for appointment",j),f),{}),E=r||[];if(!E||E.length===0)return m;const M={};return E.forEach(f=>{f in m&&(M[f]=m[f])}),M},[l,r]),I=Object.keys(T).reduce((h,m)=>(h[m]=!1,h),{}),R=(k=(A=l.filter(h=>d.includes(h.locationVirtual.state)).sort((h,m)=>nt(w.fromISO(h.start),w.fromISO(m.start))))==null?void 0:A[0])==null?void 0:k.id,N=t===p.ready;return e.jsxs(v,{children:[e.jsx(ot,{tab:t}),e.jsx(lt,{sx:{overflow:"inherit"},"data-testid":S.telemedEhrFlow.trackingBoardTable,children:e.jsxs(dt,{children:[e.jsx(ct,{children:e.jsx(D,{children:a.map(h=>e.jsx(b,{children:e.jsx(c,{variant:"subtitle2",sx:{fontSize:"14px"},children:h.label})},h.id))})}),e.jsx(ut,{children:o?e.jsx($t,{showProvider:n,isState:!1,columnsCount:a.length}):Object.keys(T).map(h=>e.jsxs(xt.Fragment,{children:[e.jsx(D,{"data-testid":S.telemedEhrFlow.trackingBoardTableGroupRow,children:e.jsx(b,{sx:{backgroundColor:Me(s.palette.secondary.main,.08)},colSpan:9+ +n,children:e.jsx(v,{sx:{display:"flex",alignItems:"center"},children:e.jsxs(c,{variant:"subtitle2",sx:{fontSize:"14px"},children:[h," - ",ht[h]]})})})}),!I[h]&&T[h].sort((m,E)=>gt(t===p["not-signed"],m,E)).map(m=>e.jsx(Ut,{appointment:m,showProvider:n,next:m.id===R&&N},m.id))]},h))})]})})]})}const Kt=t=>Object.values(Xt).filter(s=>!s.conditional||t[s.conditional.showWhen]);function qt(){const{alignment:t,selectedStates:s,date:i,providers:r,groups:d,setAppointments:o,locationsIds:u,visitTypes:g}=G(P,["alignment","selectedStates","providers","groups","date","setAppointments","locationsIds","visitTypes"]),[l,n]=C.useState(p.ready),a=(k,h)=>{n(h)},T=Le(),I=i?i.toISODate():void 0,R=s||void 0,{isFetching:N,isFetchedAfterMount:A}=ft({apiClient:T,usStatesFilter:R,locationsIdsFilter:u||void 0,providersFilter:r||void 0,groupsFilter:d||void 0,patientFilter:t,statusesFilter:Tt[l],dateFilter:I,visitTypesFilter:g||void 0},k=>{o(k.appointments)});return C.useEffect(()=>{P.setState({isAppointmentsLoading:!A})},[A]),e.jsx(v,{sx:{width:"100%",marginTop:3},children:e.jsxs(jt,{value:l,children:[e.jsx(v,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(bt,{onChange:a,"aria-label":"appointment tabs",children:[e.jsx($,{label:"Ready for provider",value:p.ready,sx:{textTransform:"none",fontWeight:500},"data-testid":S.telemedEhrFlow.telemedAppointmentsTabs(p.ready)}),e.jsx($,{label:"Provider",value:p.provider,sx:{textTransform:"none",fontWeight:500},"data-testid":S.telemedEhrFlow.telemedAppointmentsTabs(p.provider)}),e.jsx($,{label:"Unsigned",value:p["not-signed"],sx:{textTransform:"none",fontWeight:500},"data-testid":S.telemedEhrFlow.telemedAppointmentsTabs(p["not-signed"])}),e.jsx($,{label:"Complete",value:p.complete,sx:{textTransform:"none",fontWeight:500},"data-testid":S.telemedEhrFlow.telemedAppointmentsTabs(p.complete)}),N&&e.jsx(mt,{})]})}),e.jsx(pt,{sx:{marginTop:3},children:e.jsx(St,{value:l,sx:{padding:0},children:e.jsx(Ht,{tab:l})})}),e.jsx(vt,{})]})})}function Qt(){var g,l,n;const{alignment:t,setAlignment:s}=G(P,["alignment","setAlignment"]),i=ee(),{notificationsEnabled:r,notificationMethod:d}=G(Ee,["notificationsEnabled","notificationMethod"]),o=yt(a=>{Ee.setState({notificationsEnabled:a.enabled,notificationMethod:a.method})}),u=(n=(l=(g=i==null?void 0:i.profileResource)==null?void 0:g.telecom)==null?void 0:l.find(a=>a.system==="phone"))==null?void 0:n.value;return e.jsx("form",{children:e.jsx(wt,{children:e.jsxs(e.Fragment,{children:[e.jsxs(Ct,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(At,{size:"small",value:t,exclusive:!0,onChange:s,children:[e.jsx(Be,{value:"all-patients","data-testid":S.telemedEhrFlow.allPatientsButton,children:"All Patients"}),e.jsx(Be,{value:"my-patients","data-testid":S.telemedEhrFlow.myPatientsButton,children:"Patients Matching My Credentials"})]}),e.jsxs(v,{children:[e.jsx(Fe,{sx:{marginTop:"7px",marginRight:"20px"},children:e.jsx(Ot,{children:e.jsx(It,{control:e.jsx(kt,{value:r||!1,disabled:o.isLoading,checked:r||!1,onChange:()=>o.mutateAsync({enabled:!r,method:d||_["phone and computer"]})}),label:"Send alerts",labelPlacement:"start"})})}),e.jsx(Et,{customInput:Bt,value:u,format:"(###) ###-####",label:"Send alerts to:",InputLabelProps:{shrink:!0},placeholder:"(XXX) XXX-XXXX",readOnly:!0,disabled:!0}),e.jsxs(Fe,{sx:{marginLeft:2,width:250},children:[e.jsx(Ft,{id:"alert-setting-label",children:"Notify me by:"}),e.jsx(Nt,{labelId:"alert-setting-label",id:"alert-setting",value:d||_["phone and computer"],label:"Notify me by",disabled:o.isLoading,onChange:a=>{console.log(a.target),o.mutateAsync({enabled:r||!1,method:a.target.value})},children:Object.keys(_).map(a=>e.jsx(Lt,{value:_[a],children:_[a]},a))})]})]})]}),e.jsx(qt,{})]})})})}function es(){const t=ee();return C.useEffect(()=>{const s=(t==null?void 0:t.profileResource)&&Pt(t.profileResource).map(i=>i.state);s&&P.setState({availableStates:s})},[t]),e.jsx(Qt,{})}const Zt=({appointment:t})=>{const[s,i]=C.useState(""),{availableStates:r}=G(P,["availableStates"]),d=ee(),o=!!(d!=null&&d.profileResource)&&Rt(t.encounter,d.profileResource);return C.useEffect(()=>{!t.locationVirtual.state||!r.includes(t.locationVirtual.state)||[x.complete,x.unsigned].includes(t.telemedStatus)||[x["pre-video"],x["on-video"]].includes(t.telemedStatus)&&!o?t.telemedStatus===x.unsigned&&t.locationVirtual.state&&r.includes(t.locationVirtual.state)&&o?i("viewContained"):i("viewOutlined"):t.telemedStatus===x.ready?i("assignMe"):t.telemedStatus===x["pre-video"]?i("unassign"):t.telemedStatus===x["on-video"]?i("reconnect"):i("")},[t.locationVirtual.state,r,t.telemedStatus,o]),{type:s}};export{es as TrackingBoardPage};
